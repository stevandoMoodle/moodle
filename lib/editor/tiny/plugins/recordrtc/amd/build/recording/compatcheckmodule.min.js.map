{"version":3,"file":"compatcheckmodule.min.js","sources":["../../src/recording/compatcheckmodule.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n//\n\n/**\n * TTiny Record RTC compatcheckmodule.\n *\n * @module      tiny_recordrtc/compatcheckmodule\n * @copyright   2022, Stevani Andolo <stevani@hotmail.com.au>\n * @license     http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n\nimport {AbstractModule} from './abstractmodule';\nimport * as CommonModule from './commonmodule';\n\n// Show alert and close plugin if browser does not support WebRTC at all.\nexport const checkHasGum = () => {\n    if (!(navigator.mediaDevices && window.MediaRecorder)) {\n        AbstractModule.showAlert('nowebrtc', function() {\n            CommonModule.data.editorScope.closeDialogue(CommonModule.data.editorScope);\n        });\n    }\n};\n\n// Notify and redirect user if plugin is used from insecure location.\nexport const checkSecure = () => {\n    var isSecureOrigin = (window.location.protocol === 'https:') ||\n                            (window.location.host.indexOf('localhost') !== -1);\n\n    if (!isSecureOrigin) {\n        CommonModule.data.alertDanger.ancestor().ancestor().removeClass('hide');\n    }\n};\n"],"names":["navigator","mediaDevices","window","MediaRecorder","showAlert","CommonModule","data","editorScope","closeDialogue","location","protocol","host","indexOf","alertDanger","ancestor","removeClass"],"mappings":";;;;;;;yCA4B2B,WACjBA,UAAUC,cAAgBC,OAAOC,8CACpBC,UAAU,YAAY,WACjCC,aAAaC,KAAKC,YAAYC,cAAcH,aAAaC,KAAKC,sCAM/C,WAC4B,WAA7BL,OAAOO,SAASC,WACkC,IAA/CR,OAAOO,SAASE,KAAKC,QAAQ,cAGlDP,aAAaC,KAAKO,YAAYC,WAAWA,WAAWC,YAAY"}