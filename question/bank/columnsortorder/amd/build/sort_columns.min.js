define("qbank_columnsortorder/sort_columns",["exports","core/ajax","core/notification","core/sortable_list","jquery"],(function(_exports,_ajax,_notification,_sortable_list,_jquery){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}
/**
   * Javascript for sorting columns in question bank view.
   *
   * @copyright  2021 Catalyst IT Australia Pty Ltd
   * @author     Ghaly Marc-Alexandre <marc-alexandreghaly@catalyst-ca.net>
   * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
   */Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=void 0,_sortable_list=_interopRequireDefault(_sortable_list),_jquery=_interopRequireDefault(_jquery);var setOrder=function(columns){return(0,_ajax.call)([{methodname:"qbank_columnsortorder_set_columnbank_order",args:{columns:columns}}])[0]},getColumnOrder=function(listRoot){var columns=Array.from(listRoot.querySelectorAll("[data-pluginname]")).map((function(column){return column.dataset.pluginname}));return columns.filter((function(value,index){return columns.indexOf(value)===index}))};_exports.init=function(id){!function(listRoot){new _sortable_list.default(".list",{moveHandlerSelector:".item"}),(0,_jquery.default)(".item").on(_sortable_list.default.EVENTS.DROP,(function(){var columns=getColumnOrder(listRoot);setOrder(columns).catch(_notification.exception),listRoot.querySelectorAll(".item").forEach((function(item){return item.classList.remove("active")}))})),(0,_jquery.default)(".item").on(_sortable_list.default.EVENTS.DRAGSTART,(function(event){event.currentTarget.classList.add("active")}))}(document.querySelector("#".concat(id)))}}));

//# sourceMappingURL=sort_columns.min.js.map